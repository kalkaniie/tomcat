<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="DOMAIN">
  	<select id="select_domain_count_type_01" 					
				parameterClass="java.util.HashMap"  
  				resultClass="java.lang.Integer">
    	SELECT 
			COUNT(*) CNT
    	FROM DOMAIN
    	<dynamic prepend="WHERE">
			<isNotNull prepend="AND" property= "DOMAIN">
				DOMAIN = #DOMAIN#
			</isNotNull>
			<isNotNull prepend="" property= "strIndex">
				<isNotEqual prepend="AND" property= "strIndex" compareValue="">
					$strIndex$ like CONCAT('%',#strKeyword#,'%')
				</isNotEqual>
			</isNotNull>			
		</dynamic>
  	</select>
  
   	<select id="select_domain_list_type01"
  				resultClass="java.util.HashMap">
  		SELECT
  			DOMAIN
  		FROM DOMAIN  
  	</select>
  
	<select id="select_domain_info_type_01" 
					parameterClass="java.util.HashMap" 
					resultClass="com.nara.jdf.db.entity.DomainEntity">
		SELECT
			DOMAIN,
			DOMAIN_TYPE,
			DOMAIN_NAME,
			DOMAIN_JOB,
			DOMAIN_TEL,
			DOMAIN_ZIPCODE,
			DOMAIN_ADDRESS1,
			DOMAIN_ADDRESS2,
			DOMAIN_HOMEPAGE,
			DOMAIN_AGREEMENT,
			DOMAIN_AGREEMENT_STMT,
			DOMAIN_GREETINGS,
			DOMAIN_GREETINGS_FROM,
			DOMAIN_GREETINGS_TITLE,
			DOMAIN_GREETINGS_CONTENTTYPE,
			DOMAIN_GREETINGS_CONTENT,
			DOMAIN_CERTIFY,
			DOMAIN_JOIN_CERTIFY,
			DOMAIN_JOIN_CERTIFY_OPT,
			DOMAIN_JOIN_WAY,
			DOMAIN_GROUP_OPT,
			DOMAIN_JOIN_REQUIRED_ITEM,
			DOMAIN_JOIN_CERTIFY_ITEM,
			DATE_FORMAT(DOMAIN_JOINDATE, '%Y-%m-%d %T'),
			DATE_FORMAT(DOMAIN_EXPIREDDATE, '%Y-%m-%d %T'),
			DOMAIN_LANG,
			DOMAIN_FUNCTION_KEY,
			DOMAIN_LIMIT_STORAGE,
			DOMAIN_LIMIT_USERS,
			DOMAIM_LIMIT_FORWARD,
			DOMAIN_LIMIT_UPLOAD,
			DOMAIN_USER_VOLUME,
			DOMAIN_MEMO,
			DOMAIN_DISPLAY_TOP,
			DOMAIN_DISPLAY_BOTTOM,
			DOMAIN_DISPLAY_MENU,
			DOMAIN_DISPLAY_MENU_POSITION,
			DOMAIN_TABLE_PIX,
			DOMAIN_TOP_PIX,
			DOMAIN_LEFT_SPACE,
			DOMAIN_BOTTOM_SPACE,
			DOMAIN_DISPLAY_BGIMG,
			DOMAIN_BGIMG,
			DOMAIN_BGCOLOR,
			DOMAIN_TXT_COPY,
			DOMAIN_COLOR_SKIN,
			DOMAIN_COLOR_TXT,
			DOMAIN_COLOR_TOPTXT,
			DOMAIN_BGCOLOR_MENU,
			DOMAIN_BGCOLOR_BTN,
			DOMAIN_COLOR_ALINK,
			DOMAIN_BGCOLOR_TOP,
			DOMAIN_BGCOLOR_TABLE,
			DOMAIN_COLOR_TABLELINE,
			DOMAIN_COLOR_COPY,
			DOMAIN_TOP_HTML_USE,
			DOMAIN_TOP_HTML,
			DOMAIN_TOP_BGCOLOR,
			DOMAIN_DISPLAY_TOP_BGIMG,
			DOMAIN_TOP_BGIMG,
			DOMAIN_TOP_BTN,
			DOMAIN_TOP_BTNCOLOR,
			DOMAIN_TOP_MENU_POS,
			DOMAIN_DISPLAY_LOGO,
			DOMAIN_LOGO,
			DOMAIN_LOGO_TXT,
			DOMAIN_LOGO_TXTCOLOR,
			DOMAIN_BTN_CNT,
			DOMAIN_TABLE_POS,
			DOMAIN_INPUT_TXT,
			DOMAIN_LOGO_LINK,
			DOMAIN_MOTO_USE,
			DOMAIN_MENU_PIX,
			DOMAIN_BTN1_TITLE,
			DOMAIN_BTN1_LINK,
			DOMAIN_BTN1_TARGET,
			DOMAIN_BTN1_ALT,
			DOMAIN_BTN2_TITLE,
			DOMAIN_BTN2_LINK,
			DOMAIN_BTN2_TARGET,
			DOMAIN_BTN2_ALT,
			DOMAIN_BTN3_TITLE,
			DOMAIN_BTN3_LINK,
			DOMAIN_BTN3_TARGET,
			DOMAIN_BTN3_ALT,
			DOMAIN_BTN4_TITLE,
			DOMAIN_BTN4_LINK,
			DOMAIN_BTN4_TARGET,
			DOMAIN_BTN4_ALT,
			DOMAIN_BTN5_TITLE,
			DOMAIN_BTN5_LINK,
			DOMAIN_BTN5_TARGET,
			DOMAIN_BTN5_ALT,
			DOMAIN_BTN6_TITLE,
			DOMAIN_BTN6_LINK,
			DOMAIN_BTN6_TARGET,
			DOMAIN_BTN6_ALT,
			DOMAIN_BTN7_TITLE,
			DOMAIN_BTN7_LINK,
			DOMAIN_BTN7_TARGET,
			DOMAIN_BTN7_ALT,
			DOMAIN_SMS_LIMIT,
			DOMAIN_MAIL_QUOTA,
			DOMAIN_MAIL_BANNER,
			DOMAIN_MAIL_BANNER_TEXT,
			DOMAIN_ACCOUNT_LIMIT,
			DOMAIN_PAUSE_DAYS,
			DOMAIN_BIGMAIL_QUOTA,
			DOMAIN_PWD_LOCK_COUNT,
			TAG_FILTER_LEVEL,
			TAG_FILTER_0,
			TAG_FILTER_1,
			TAG_FILTER_2,
			TAG_FILTER_3,
			TAG_FILTER_4
		FROM DOMAIN
		<dynamic prepend="WHERE">
			<isNotNull prepend="AND" property= "DOMAIN">
				DOMAIN= #DOMAIN#
			</isNotNull> 			
		</dynamic>
	</select>

	<select id="select_domain_info_type_02" 
					parameterClass="java.util.HashMap" 
					resultClass="com.nara.jdf.db.entity.DomainEntity">			
		SELECT
			AA.DOMAIN,
			AA.DOMAIN_TYPE,
			AA.DOMAIN_NAME,
			AA.DOMAIN_JOB,
			AA.DOMAIN_TEL,
			AA.DOMAIN_ZIPCODE,
			AA.DOMAIN_ADDRESS1,
			AA.DOMAIN_ADDRESS2,
			AA.DOMAIN_HOMEPAGE,
			AA.DOMAIN_AGREEMENT,
			AA.DOMAIN_AGREEMENT_STMT,
			AA.DOMAIN_GREETINGS,
			AA.DOMAIN_GREETINGS_FROM,
			AA.DOMAIN_GREETINGS_TITLE,
			AA.DOMAIN_GREETINGS_CONTENTTYPE,
			AA.DOMAIN_GREETINGS_CONTENT,
			AA.DOMAIN_CERTIFY,
			AA.DOMAIN_JOIN_CERTIFY,
			AA.DOMAIN_JOIN_CERTIFY_OPT,
			AA.DOMAIN_JOIN_WAY,
			AA.DOMAIN_GROUP_OPT,
			AA.DOMAIN_JOIN_REQUIRED_ITEM,
			AA.DOMAIN_JOIN_CERTIFY_ITEM,
			DATE_FORMAT(AA.DOMAIN_JOINDATE, '%Y-%m-%d %T'),
			DATE_FORMAT(AA.DOMAIN_EXPIREDDATE, '%Y-%m-%d %T'),
			AA.DOMAIN_LANG,
			AA.DOMAIN_FUNCTION_KEY,
			AA.DOMAIN_LIMIT_STORAGE,
			AA.DOMAIN_LIMIT_USERS,
			DOMAIM_LIMIT_FORWARD,
			AA.DOMAIN_LIMIT_UPLOAD,
			AA.DOMAIN_USER_VOLUME,
			AA.DOMAIN_MEMO,
			AA.DOMAIN_DISPLAY_TOP,
			AA.DOMAIN_DISPLAY_BOTTOM,
			AA.DOMAIN_DISPLAY_MENU,
			AA.DOMAIN_DISPLAY_MENU_POSITION,
			AA.DOMAIN_TABLE_PIX,
			AA.DOMAIN_TOP_PIX,
			AA.DOMAIN_LEFT_SPACE,
			AA.DOMAIN_BOTTOM_SPACE,
			AA.DOMAIN_DISPLAY_BGIMG,
			AA.DOMAIN_BGIMG,
			AA.DOMAIN_BGCOLOR,
			AA.DOMAIN_TXT_COPY,
			AA.DOMAIN_COLOR_SKIN,
			AA.DOMAIN_COLOR_TXT,
			AA.DOMAIN_COLOR_TOPTXT,
			AA.DOMAIN_BGCOLOR_MENU,
			AA.DOMAIN_BGCOLOR_BTN,
			AA.DOMAIN_COLOR_ALINK,
			AA.DOMAIN_BGCOLOR_TOP,
			AA.DOMAIN_BGCOLOR_TABLE,
			AA.DOMAIN_COLOR_TABLELINE,
			AA.DOMAIN_COLOR_COPY,
			AA.DOMAIN_TOP_HTML_USE,
			AA.DOMAIN_TOP_HTML,
			AA.DOMAIN_TOP_BGCOLOR,
			AA.DOMAIN_DISPLAY_TOP_BGIMG,
			AA.DOMAIN_TOP_BGIMG,
			AA.DOMAIN_TOP_BTN,
			AA.DOMAIN_TOP_BTNCOLOR,
			AA.DOMAIN_TOP_MENU_POS,
			AA.DOMAIN_DISPLAY_LOGO,
			AA.DOMAIN_LOGO,
			AA.DOMAIN_LOGO_TXT,
			AA.DOMAIN_LOGO_TXTCOLOR,
			AA.DOMAIN_BTN_CNT,
			AA.DOMAIN_TABLE_POS,
			AA.DOMAIN_INPUT_TXT,
			AA.DOMAIN_LOGO_LINK,
			AA.DOMAIN_MOTO_USE,
			AA.DOMAIN_MENU_PIX,
			AA.DOMAIN_BTN1_TITLE,
			AA.DOMAIN_BTN1_LINK,
			AA.DOMAIN_BTN1_TARGET,
			AA.DOMAIN_BTN1_ALT,
			AA.DOMAIN_BTN2_TITLE,
			AA.DOMAIN_BTN2_LINK,
			AA.DOMAIN_BTN2_TARGET,
			AA.DOMAIN_BTN2_ALT,
			AA.DOMAIN_BTN3_TITLE,
			AA.DOMAIN_BTN3_LINK,
			AA.DOMAIN_BTN3_TARGET,
			AA.DOMAIN_BTN3_ALT,
			AA.DOMAIN_BTN4_TITLE,
			AA.DOMAIN_BTN4_LINK,
			AA.DOMAIN_BTN4_TARGET,
			AA.DOMAIN_BTN4_ALT,
			AA.DOMAIN_BTN5_TITLE,
			AA.DOMAIN_BTN5_LINK,
			AA.DOMAIN_BTN5_TARGET,
			AA.DOMAIN_BTN5_ALT,
			AA.DOMAIN_BTN6_TITLE,
			AA.DOMAIN_BTN6_LINK,
			AA.DOMAIN_BTN6_TARGET,
			AA.DOMAIN_BTN6_ALT,
			AA.DOMAIN_BTN7_TITLE,
			AA.DOMAIN_BTN7_LINK,
			AA.DOMAIN_BTN7_TARGET,
			AA.DOMAIN_BTN7_ALT,
			AA.DOMAIN_SMS_LIMIT,
			AA.DOMAIN_MAIL_QUOTA,
			AA.DOMAIN_MAIL_BANNER,
			AA.DOMAIN_MAIL_BANNER_TEXT,
			AA.DOMAIN_ACCOUNT_LIMIT,
			AA.DOMAIN_PAUSE_DAYS,
			AA.DOMAIN_BIGMAIL_QUOTA,
			AA.DOMAIN_PWD_LOCK_COUNT,
			(SELECT COUNT(*) FROM USERS BB WHERE AA.DOMAIN = BB.DOMAIN) nUserNum
		FROM DOMAIN AA
		
		<dynamic prepend="WHERE">
			<isNotNull prepend="AND" property= "DOMAIN">
				AA.DOMAIN= #DOMAIN#
			</isNotNull> 
			<isNotNull prepend="" property= "strIndex">
				<isNotEqual prepend="AND" property= "strIndex" compareValue="">
					AA.$strIndex$ like CONCAT('%',#strKeyword#,'%')
				</isNotEqual>
			</isNotNull>
		</dynamic>
		ORDER BY AA.$orderCol$ $orderType$
		LIMIT $SKIP$, $USERS_LISTNUM$
	</select>	  
 
  <insert id="insert_domain_type_01"
  				parameterClass="com.nara.jdf.db.entity.DomainEntity">
    INSERT INTO DOMAIN 
    (
			DOMAIN,
			DOMAIN_TYPE,
			DOMAIN_NAME,
			DOMAIN_JOB,
			DOMAIN_TEL,
			DOMAIN_ZIPCODE,
			DOMAIN_ADDRESS1,
			DOMAIN_ADDRESS2,
			DOMAIN_HOMEPAGE,
			DOMAIN_AGREEMENT,
			DOMAIN_AGREEMENT_STMT,
			DOMAIN_GREETINGS,
			DOMAIN_GREETINGS_FROM,
			DOMAIN_GREETINGS_TITLE,
			DOMAIN_GREETINGS_CONTENTTYPE,
			DOMAIN_GREETINGS_CONTENT,
			DOMAIN_CERTIFY,
			DOMAIN_JOIN_CERTIFY,
			DOMAIN_JOIN_CERTIFY_OPT,
			DOMAIN_JOIN_WAY,
			DOMAIN_GROUP_OPT,
			DOMAIN_JOIN_REQUIRED_ITEM,
			DOMAIN_JOIN_CERTIFY_ITEM,
			DOMAIN_JOINDATE,
			DOMAIN_LANG,
			DOMAIN_FUNCTION_KEY,
			DOMAIN_LIMIT_STORAGE,
			DOMAIN_LIMIT_USERS,
			DOMAIM_LIMIT_FORWARD,
			DOMAIN_LIMIT_UPLOAD,
			DOMAIN_USER_VOLUME,
			DOMAIN_MEMO,
			DOMAIN_DISPLAY_TOP,
			DOMAIN_DISPLAY_BOTTOM,
			DOMAIN_DISPLAY_MENU,
			DOMAIN_DISPLAY_MENU_POSITION,
			DOMAIN_TABLE_PIX,
			DOMAIN_TOP_PIX,
			DOMAIN_LEFT_SPACE,
			DOMAIN_BOTTOM_SPACE,
			DOMAIN_DISPLAY_BGIMG,
			DOMAIN_BGIMG,
			DOMAIN_BGCOLOR,
			DOMAIN_TXT_COPY,
			DOMAIN_COLOR_SKIN,
			DOMAIN_COLOR_TXT,
			DOMAIN_COLOR_TOPTXT,
			DOMAIN_BGCOLOR_MENU,
			DOMAIN_BGCOLOR_BTN,
			DOMAIN_COLOR_ALINK,
			DOMAIN_BGCOLOR_TOP,
			DOMAIN_BGCOLOR_TABLE,
			DOMAIN_COLOR_TABLELINE,
			DOMAIN_COLOR_COPY,
			DOMAIN_TOP_HTML_USE,
			DOMAIN_TOP_HTML,
			DOMAIN_TOP_BGCOLOR,
			DOMAIN_DISPLAY_TOP_BGIMG,
			DOMAIN_TOP_BGIMG,
			DOMAIN_TOP_BTN,
			DOMAIN_TOP_BTNCOLOR,
			DOMAIN_TOP_MENU_POS,
			DOMAIN_DISPLAY_LOGO,
			DOMAIN_LOGO,
			DOMAIN_LOGO_TXT,
			DOMAIN_LOGO_TXTCOLOR,
			DOMAIN_BTN_CNT,
			DOMAIN_TABLE_POS,
			DOMAIN_INPUT_TXT,
			DOMAIN_LOGO_LINK,
			DOMAIN_MOTO_USE,
			DOMAIN_MENU_PIX,
			DOMAIN_BTN1_TITLE,
			DOMAIN_BTN1_LINK,
			DOMAIN_BTN1_TARGET,
			DOMAIN_BTN1_ALT,
			DOMAIN_BTN2_TITLE,
			DOMAIN_BTN2_LINK,
			DOMAIN_BTN2_TARGET,
			DOMAIN_BTN2_ALT,
			DOMAIN_BTN3_TITLE,
			DOMAIN_BTN3_LINK,
			DOMAIN_BTN3_TARGET,
			DOMAIN_BTN3_ALT,
			DOMAIN_BTN4_TITLE,
			DOMAIN_BTN4_LINK,
			DOMAIN_BTN4_TARGET,
			DOMAIN_BTN4_ALT,
			DOMAIN_BTN5_TITLE,
			DOMAIN_BTN5_LINK,
			DOMAIN_BTN5_TARGET,
			DOMAIN_BTN5_ALT,
			DOMAIN_BTN6_TITLE,
			DOMAIN_BTN6_LINK,
			DOMAIN_BTN6_TARGET,
			DOMAIN_BTN6_ALT,
			DOMAIN_BTN7_TITLE,
			DOMAIN_BTN7_LINK,
			DOMAIN_BTN7_TARGET,
			DOMAIN_BTN7_ALT,
			DOMAIN_SMS_LIMIT,
			DOMAIN_MAIL_QUOTA,
			DOMAIN_MAIL_BANNER,
			DOMAIN_MAIL_BANNER_TEXT,
			DOMAIN_ACCOUNT_LIMIT,
			DOMAIN_PAUSE_DAYS,
			DOMAIN_BIGMAIL_QUOTA      
    )
    VALUES
    (
			#DOMAIN#,
			#DOMAIN_TYPE#,
			#DOMAIN_NAME#,
			#DOMAIN_JOB#,
			#DOMAIN_TEL#,
			#DOMAIN_ZIPCODE#,
			#DOMAIN_ADDRESS1#,
			#DOMAIN_ADDRESS2#,
			#DOMAIN_HOMEPAGE#,
			#DOMAIN_AGREEMENT#,
			#DOMAIN_AGREEMENT_STMT#,
			#DOMAIN_GREETINGS#,
			#DOMAIN_GREETINGS_FROM#,
			#DOMAIN_GREETINGS_TITLE#,
			#DOMAIN_GREETINGS_CONTENTTYPE#,
			#DOMAIN_GREETINGS_CONTENT#,
			#DOMAIN_CERTIFY#,
			#DOMAIN_JOIN_CERTIFY#,
			#DOMAIN_JOIN_CERTIFY_OPT#,
			#DOMAIN_JOIN_WAY#,
			#DOMAIN_GROUP_OPT#,
			#DOMAIN_JOIN_REQUIRED_ITEM#,
			#DOMAIN_JOIN_CERTIFY_ITEM#,
			SYSDATE(),
			#DOMAIN_LANG#,
			#DOMAIN_FUNCTION_KEY#,
			#DOMAIN_LIMIT_STORAGE#,
			#DOMAIN_LIMIT_USERS#,
			#DOMAIM_LIMIT_FORWARD#,
			#DOMAIN_LIMIT_UPLOAD#,
			#DOMAIN_USER_VOLUME#,
			#DOMAIN_MEMO#,
			#DOMAIN_DISPLAY_TOP#,
			#DOMAIN_DISPLAY_BOTTOM#,
			#DOMAIN_DISPLAY_MENU#,
			#DOMAIN_DISPLAY_MENU_POSITION#,
			#DOMAIN_TABLE_PIX#,
			#DOMAIN_TOP_PIX#,
			#DOMAIN_LEFT_SPACE#,
			#DOMAIN_BOTTOM_SPACE#,
			#DOMAIN_DISPLAY_BGIMG#,
			#DOMAIN_BGIMG#,
			#DOMAIN_BGCOLOR#,
			#DOMAIN_TXT_COPY#,
			#DOMAIN_COLOR_SKIN#,
			#DOMAIN_COLOR_TXT#,
			#DOMAIN_COLOR_TOPTXT#,
			#DOMAIN_BGCOLOR_MENU#,
			#DOMAIN_BGCOLOR_BTN#,
			#DOMAIN_COLOR_ALINK#,
			#DOMAIN_BGCOLOR_TOP#,
			#DOMAIN_BGCOLOR_TABLE#,
			#DOMAIN_COLOR_TABLELINE#,
			#DOMAIN_COLOR_COPY#,
			#DOMAIN_TOP_HTML_USE#,
			#DOMAIN_TOP_HTML#,
			#DOMAIN_TOP_BGCOLOR#,
			#DOMAIN_DISPLAY_TOP_BGIMG#,
			#DOMAIN_TOP_BGIMG#,
			#DOMAIN_TOP_BTN#,
			#DOMAIN_TOP_BTNCOLOR#,
			#DOMAIN_TOP_MENU_POS#,
			#DOMAIN_DISPLAY_LOGO#,
			#DOMAIN_LOGO#,
			#DOMAIN_LOGO_TXT#,
			#DOMAIN_LOGO_TXTCOLOR#,
			#DOMAIN_BTN_CNT#,
			#DOMAIN_TABLE_POS#,
			#DOMAIN_INPUT_TXT#,
			#DOMAIN_LOGO_LINK#,
			#DOMAIN_MOTO_USE#,
			#DOMAIN_MENU_PIX#,
			#DOMAIN_BTN1_TITLE#,
			#DOMAIN_BTN1_LINK#,
			#DOMAIN_BTN1_TARGET#,
			#DOMAIN_BTN1_ALT#,
			#DOMAIN_BTN2_TITLE#,
			#DOMAIN_BTN2_LINK#,
			#DOMAIN_BTN2_TARGET#,
			#DOMAIN_BTN2_ALT#,
			#DOMAIN_BTN3_TITLE#,
			#DOMAIN_BTN3_LINK#,
			#DOMAIN_BTN3_TARGET#,
			#DOMAIN_BTN3_ALT#,
			#DOMAIN_BTN4_TITLE#,
			#DOMAIN_BTN4_LINK#,
			#DOMAIN_BTN4_TARGET#,
			#DOMAIN_BTN4_ALT#,
			#DOMAIN_BTN5_TITLE#,
			#DOMAIN_BTN5_LINK#,
			#DOMAIN_BTN5_TARGET#,
			#DOMAIN_BTN5_ALT#,
			#DOMAIN_BTN6_TITLE#,
			#DOMAIN_BTN6_LINK#,   
			#DOMAIN_BTN6_TARGET#,
			#DOMAIN_BTN6_ALT#,
			#DOMAIN_BTN7_TITLE#,
			#DOMAIN_BTN7_LINK#,
			#DOMAIN_BTN7_TARGET#,
			#DOMAIN_BTN7_ALT#,
			#DOMAIN_SMS_LIMIT#,
			#DOMAIN_MAIL_QUOTA#,
			#DOMAIN_MAIL_BANNER#,
			#DOMAIN_MAIL_BANNER_TEXT#,
			#DOMAIN_ACCOUNT_LIMIT#,
			#DOMAIN_PAUSE_DAYS#,
			#DOMAIN_BIGMAIL_QUOTA#    
    	)
  	</insert>
  
  	<resultMap id="result_lob_map" class="java.util.HashMap">
		<result property="idx_key" column="idx_key" />			
		<result property="content" column="content" 
				jdbcType="CLOB" javaType="java.lang.String" />
	</resultMap>
	
  	<update id="update_domain_by_admin_type_01"
  	        parameterClass="com.nara.jdf.db.entity.DomainEntity">
		UPDATE DOMAIN 
		SET DOMAIN_NAME = #DOMAIN_NAME#,
			DOMAIN_TYPE = #DOMAIN_TYPE#,
			DOMAIN_JOB = #DOMAIN_JOB#,
			DOMAIN_TEL = #DOMAIN_TEL#,
			DOMAIN_ZIPCODE = #DOMAIN_ZIPCODE#,
			DOMAIN_ADDRESS1 = #DOMAIN_ADDRESS1#,
			DOMAIN_ADDRESS2 = #DOMAIN_ADDRESS2#,
			DOMAIN_HOMEPAGE = #DOMAIN_HOMEPAGE#
		WHERE DOMAIN = #DOMAIN#  	        
  	</update>
  	<update id="update_domain_skin_base_type_01"
  	        parameterClass="com.nara.jdf.db.entity.DomainEntity">
		UPDATE DOMAIN 
		SET DOMAIN_TABLE_PIX = #DOMAIN_TABLE_PIX#,
			DOMAIN_LOGO_LINK = #DOMAIN_LOGO_LINK#,
			DOMAIN_TXT_COPY = #DOMAIN_TXT_COPY# ,
			DOMAIN_TEL = #DOMAIN_TEL#
		WHERE DOMAIN = #DOMAIN#  	        
  	</update>
  	
  	<delete id="delete_domain_type_01"
  				parameterClass="java.util.HashMap">
  		DELETE FROM DOMAIN
  		
  		<dynamic prepend="WHERE">
  			<isNotNull prepend="AND" property= "DOMAIN">
				DOMAIN = #DOMAIN#
			</isNotNull>
  		</dynamic>
  	</delete>
  	
  	<update id="update_domain_by_system_type_01"
  	        parameterClass="com.nara.jdf.db.entity.DomainEntity">
		UPDATE DOMAIN 
		SET DOMAIN_CERTIFY = #DOMAIN_CERTIFY#,
			DOMAIN_LANG = #DOMAIN_LANG#,
			DOMAIN_FUNCTION_KEY = #DOMAIN_FUNCTION_KEY#,
			DOMAIN_LIMIT_STORAGE = #DOMAIN_LIMIT_STORAGE#,
			DOMAIN_LIMIT_USERS = #DOMAIN_LIMIT_USERS#,
			DOMAIM_LIMIT_FORWARD = #DOMAIM_LIMIT_FORWARD#,
			DOMAIN_LIMIT_UPLOAD = #DOMAIN_LIMIT_UPLOAD#,
			DOMAIN_USER_VOLUME = #DOMAIN_USER_VOLUME#,
			DOMAIN_MEMO = #DOMAIN_MEMO#,
			DOMAIN_MAIL_QUOTA = #DOMAIN_MAIL_QUOTA#,
			DOMAIN_MAIL_BANNER = #DOMAIN_MAIL_BANNER#,
			DOMAIN_ACCOUNT_LIMIT = #DOMAIN_ACCOUNT_LIMIT#,
			DOMAIN_PAUSE_DAYS = #DOMAIN_PAUSE_DAYS#,
			DOMAIN_BIGMAIL_QUOTA = #DOMAIN_BIGMAIL_QUOTA#,
			DOMAIN_PWD_LOCK_COUNT = #DOMAIN_PWD_LOCK_COUNT#,
			DOMAIN_SMS_LIMIT = #DOMAIN_SMS_LIMIT#
		WHERE DOMAIN = #DOMAIN#  	        
  	</update>
  	
	<select id="select_domain_simple_list" 
				parameterClass="java.util.HashMap"
				resultClass="java.util.HashMap">
		SELECT
		
		<dynamic prepend="">
  			<isEqual prepend="" property= "SELECT_TYPE" compareValue="DOMAIN">
				DOMAIN,
				DOMAIN_NAME
			</isEqual>
  		</dynamic>

		FROM DOMAIN
	</select>
	
	<update id="update_domain_by_simple_type_01"
  	        parameterClass="java.util.HashMap">
		UPDATE DOMAIN 
		
		<dynamic prepend="">
			<isEqual prepend="SET " property= "UPDATE_TYPE" compareValue="JOIN_OPT">
				DOMAIN_JOIN_WAY = #DOMAIN_JOIN_WAY#,
				DOMAIN_GROUP_OPT = #DOMAIN_GROUP_OPT#,
				DOMAIN_JOIN_REQUIRED_ITEM = #DOMAIN_JOIN_REQUIRED_ITEM#,
				DOMAIN_JOIN_CERTIFY_ITEM = #DOMAIN_JOIN_CERTIFY_ITEM#
			</isEqual>
			<isEqual prepend="SET " property= "UPDATE_TYPE" compareValue="AGREEMENT_OPT">
				DOMAIN_AGREEMENT = #DOMAIN_AGREEMENT#,
				DOMAIN_AGREEMENT_STMT = #DOMAIN_AGREEMENT_STMT#
			</isEqual>
			<isEqual prepend="SET " property= "UPDATE_TYPE" compareValue="GREETINGS_OPT">
				DOMAIN_GREETINGS = #DOMAIN_GREETINGS#,
				DOMAIN_GREETINGS_FROM = #DOMAIN_GREETINGS_FROM#,
				DOMAIN_GREETINGS_TITLE = #DOMAIN_GREETINGS_TITLE#,
				DOMAIN_GREETINGS_CONTENTTYPE = #DOMAIN_GREETINGS_CONTENTTYPE#,
				DOMAIN_GREETINGS_CONTENT = #DOMAIN_GREETINGS_CONTENT#
			</isEqual>
			<isEqual prepend="SET " property= "UPDATE_TYPE" compareValue="TAG_FILTER">
				TAG_FILTER_LEVEL = #TAG_FILTER_LEVEL#,
				TAG_FILTER_0 = #TAG_FILTER_0#,
				TAG_FILTER_1 = #TAG_FILTER_1#,
				TAG_FILTER_2 = #TAG_FILTER_2#,
				TAG_FILTER_3 = #TAG_FILTER_3#,
				TAG_FILTER_4 = #TAG_FILTER_4#,
				TAG_FILTER_ADMIN_ROLL = #TAG_FILTER_ADMIN_ROLL#
			</isEqual>
			<isEqual prepend="SET " property= "UPDATE_TYPE" compareValue="DOMAIN_MAIL_BANNER_TEXT">
				DOMAIN_MAIL_BANNER_TEXT = #DOMAIN_MAIL_BANNER_TEXT#
			</isEqual>
		</dynamic>
		
		WHERE DOMAIN = #DOMAIN#  	        
  	</update>
  	
  	<insert id="insert_domain_info"
  				parameterClass="java.util.HashMap">
	    INSERT INTO DISK_CONFIG(
			DOMAIN, 
			DISK_USER_ENABLE_FLAG, 
			DISK_USER_MAX_QUOTA,
	  		BIGMAIL_MAX_VALIDITY_DAYS, 
	  		BIGMAIL_MAX_DOWNLOAD_LIMIT, 
	  		WEBLINK_FOLDER_ENABLE,
	  		GUEST_FOLDER_ENABLE, 
	  		VIRUS_CHECK_ENABLE, 
	  		UPLOAD_FILE_SIZE_LIMIT,
	  		LOG_USER_VIEW_MONTHS, 
	  		LOG_PRESERVATION_MONTHS		    
	    )
	    VALUES(
			#DOMAIN#,
			1,
			524288000,
			7,
			100,
			0,
			1,
			0,
			524288000,
			6,
			12
	    )
  	</insert>
</sqlMap>
